architectury {
    common rootProject.enabled_platforms.split(',')
}

// Dummy platform for common compile
def platform = "fabric";

repositories {
    maven { url 'https://maven.kosmx.dev/' }
    maven { url 'https://maven.shedaniel.me/' }
    maven { url 'https://maven.azuredoom.com/mods' }
    maven {
        name = "TerraformersMC"
        url = "https://maven.terraformersmc.com/"
    }
    maven {
        name = 'Modrinth'
        url = 'https://api.modrinth.com/maven'
        content {
            includeGroup 'maven.modrinth'
        }
    }
    maven {
        name = "Ladysnake Libs"
        url = 'https://maven.ladysnake.org/releases'
    }

    // For Accessories:
    maven { url 'https://maven.wispforest.io/releases' }
    maven { url 'https://maven.su5ed.dev/releases' }
    maven { url 'https://maven.fabricmc.net' }

    mavenLocal()
}

dependencies {
    // We depend on Fabric Loader here to use the Fabric @Environment annotations,
    // which get remapped to the correct annotations on each platform.
    // Do NOT use other classes from Fabric Loader.
    modImplementation "net.fabricmc:fabric-loader:$project.fabric_loader_version"
    modImplementation "net.fabricmc.fabric-api:fabric-api:$project.fabric_api_version"

    modImplementation("dev.kosmx.player-anim:player-animation-lib-${platform}:${project.player_anim_version}")
    modImplementation("me.shedaniel.cloth:cloth-config-${platform}:${project.cloth_config_version}")
    modImplementation("mod.azure.azurelibarmor:azurelibarmor-${platform}-${project.azure_mc_version}:${project.azure_lib_version}")
    modImplementation("maven.modrinth:tiny-config:${project.tiny_config_version}-${platform}")

    modImplementation("maven.modrinth:spell-power:${project.spell_power_version}-${platform}")
    modImplementation("maven.modrinth:spell-engine:${project.spell_engine_version}-${platform}")
    modImplementation("maven.modrinth:spell-engine:${project.spell_engine_version}-${platform}")
    //modImplementation(files("run/mods/dev/more_rpg_library-${project.more_rpg_library_version}-${platform}.jar"))
    modImplementation("maven.modrinth:more-rpg-library:${project.more_rpg_library_version}-${platform}")

    // Compatibility
    // Fabric specific
    modCompileOnly "io.wispforest:owo-lib:${project.owo_version}" // Accessories needs this
    modImplementation("io.wispforest:accessories-common:${project.accessories_version}")
}